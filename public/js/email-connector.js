!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"+O45":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-group border-0 inspector-font-size"},[n("form-checkbox",{staticClass:"form-control border-0 inspector-font-size",attrs:{label:e.label,checked:e.selected},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),e.selected?[n("div",{staticClass:"form-control p-0 border-0"},[n("button",{staticClass:"btn btn-sm btn-secondary float-right",on:{click:e.addRow}},[n("i",{staticClass:"fas fa-plus"})])]),e._v(" "),e._l(e.rows,function(t,s){return[n("div",{staticClass:"input-group border-0"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"row.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.placeholder,"aria-describedby":"index"},domProps:{value:t.email},on:{change:e.updateConfig,input:function(n){n.target.composing||e.$set(t,"email",n.target.value)}}}),e._v(" "),n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text border-0",attrs:{id:"index"}},[n("a",{on:{click:function(t){return e.remove(s)}}},[n("i",{staticClass:"fas fa-trash-alt"})])])])])]})]:e._e()],2)},staticRenderFns:[]}},"/SML":function(e,t,n){var s=n("VU/8")(n("ruc3"),n("G0PU"),!1,function(e){n("JCxH")},"data-v-cb3ba3ae",null);e.exports=s.exports},0:function(e,t,n){e.exports=n("ARlc")},"3PPD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("l9F9"),r=n.n(s);t.default={extends:ProcessMaker.nodeTypes.get("processmaker-modeler-task").component,methods:{handleClick:function(){this.$parent.loadInspector("processmaker-communication-email-send",this.node.definition,this)}},mounted:function(){this.shape.attr("image/xlink:href",r.a)}}},"5+XP":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"",""])},"5BWt":function(e,t,n){var s=n("5+XP");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);n("rjj0")("ac30ecea",s,!0,{})},"5wd8":function(e,t,n){var s=n("VU/8")(n("3PPD"),n("eU0j"),!1,null,null,null);e.exports=s.exports},"6mRK":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"",""])},ARlc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("5wd8"),r=n.n(s),o=n("/SML"),i=n.n(o),a="connector-send-email/processmaker-communication-email-send",c=[{id:"processmaker-communication-email-send",component:r.a,bpmnType:"bpmn:ServiceTask",control:!0,category:"Communication",icon:n("KZCc"),implementation:a,label:"Send Email",definition:function(e){return e.create("bpmn:ServiceTask",{name:"Send Email",implementation:a,config:JSON.stringify({email:"",targetName:"",subject:"",template:"welcome"})})},diagram:function(e){return e.create("bpmndi:BPMNShape",{bounds:e.create("dc:Bounds",{height:76,width:116})})},inspectorHandler:function(e,t,n){for(var s in e)t[s]!=e[s]&&(t[s]="config"===s?JSON.stringify(e[s]):e[s]);n.updateShape()},inspectorConfig:[{name:"Send Email",items:[{component:i.a,config:{name:"id"}}]}]}];window.ProcessMaker.EventBus.$on("modeler-init",function(e){var t=e.registerNode,n=(e.registerBpmnExtension,e.registerInspectorExtension,!0),s=!1,r=void 0;try{for(var o,i=c[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){t(o.value)}}catch(e){s=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(s)throw r}}})},"FZ+f":function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",s=e[3];if(!s)return n;if(t&&"function"==typeof btoa){var r=(i=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),o=s.sources.map(function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var s={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(s[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&s[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},G0PU:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{staticClass:"p-0 h-100 border-0 rounded-0",attrs:{"no-body":""}},[n("b-card-body",{staticClass:"p-0 h-100 overflow-auto"},[n("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.configuration",modifiers:{configuration:!0}}],staticClass:"accordion-button text-left card-header d-flex align-items-center w-100 border-right-0 border-left-0 border-top-0",attrs:{variant:"outline"},on:{click:function(t){e.showConfiguration=!e.showConfiguration}}},[n("i",{staticClass:"fas fa-cog mr-2"}),e._v("\n      "+e._s(e.$t("Configuration Send Email"))+"\n      "),n("i",{staticClass:"fas fa-angle-down ml-auto",class:{"fas fa-angle-right":e.showConfiguration}})]),e._v(" "),n("b-collapse",{attrs:{id:"configuration",visible:""}},[n("div",{staticClass:"form-group pl-4 pr-4 pt-3 pb-3 border-bottom m-0"},[n("label",[e._v(e._s(e.$t("Subject")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.subject,expression:"config.subject"}],staticClass:"form-control",domProps:{value:e.config.subject},on:{input:function(t){t.target.composing||e.$set(e.config,"subject",t.target.value)}}}),e._v(" "),n("small",{staticClass:"form-text text-muted"},[e._v(e._s(e.$t("Email subject")))])]),e._v(" "),n("div",{staticClass:"form-group pl-4 pr-4 pt-3 pb-3 border-bottom m-0"},[n("label",[e._v(e._s(e.$t("Body")))]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.config.type,expression:"config.type"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.config,"type",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"text"}},[e._v(e._s(e.$t("Plain Text")))]),e._v(" "),n("option",{attrs:{value:"screen"}},[e._v(e._s(e.$t("Display Screen")))])]),e._v(" "),n("textarea",{directives:[{name:"show",rawName:"v-show",value:"text"===e.config.type,expression:"config.type === 'text'"},{name:"model",rawName:"v-model",value:e.config.textBody,expression:"config.textBody"}],staticClass:"form-control mt-3",attrs:{rows:"5"},domProps:{value:e.config.textBody},on:{input:function(t){t.target.composing||e.$set(e.config,"textBody",t.target.value)}}}),e._v(" "),n("modeler-screen-select",{directives:[{name:"show",rawName:"v-show",value:"screen"===e.config.type,expression:"config.type === 'screen'"}],staticClass:"p-0",attrs:{label:"",helper:e.$t("What Screen Should Be Used For Sending This Email"),params:{type:"EMAIL"}},model:{value:e.config.screenRef,callback:function(t){e.$set(e.config,"screenRef",t)},expression:"config.screenRef"}})],1),e._v(" "),n("div",{staticClass:"form-group pl-4 pr-4 pt-3 pb-3 border-bottom m-0"},[n("label",[e._v(e._s(e.$t("Recipients")))]),e._v(" "),n("label",[e._v(e._s(e.$t("(Select all that apply)")))]),e._v(" "),n("user-group-select",{staticClass:"p-0",attrs:{label:"",multiple:!0},model:{value:e.usersGroupsSelected,callback:function(t){e.usersGroupsSelected=t},expression:"usersGroupsSelected"}})],1),e._v(" "),n("div",{staticClass:"form-group pl-4 pr-4 pt-3 pb-3 border-bottom m-0"},[n("add-input",{staticClass:"p-0",attrs:{label:e.$t("Add additional emails"),placeholder:e.$t("enter email")},model:{value:e.config.addEmails,callback:function(t){e.$set(e.config,"addEmails",t)},expression:"config.addEmails"}})],1)])],1)],1)},staticRenderFns:[]}},JCxH:function(e,t,n){var s=n("6mRK");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);n("rjj0")("acaf9ec8",s,!0,{})},KZCc:function(e,t){e.exports="/vendor/processmaker/connectors/email/fonts/icon.svg?0652bcbfde0ba1266dc69fed99fb8bda"},LMP0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{type:Array,default:[]},label:{type:String,default:""},placeholder:{type:String,default:""}},data:function(){return{selected:!1,rows:[]}},watch:{value:{deep:!0,handler:function(){var e=this;this.selected=!1,0===this.rows.length&&this.value&&this.value.map(function(t){e.rows.push({email:t})}),this.rows.length>0&&(this.selected=!0)}}},computed:{},methods:{addRow:function(){this.rows.push({email:""})},remove:function(e){this.rows.splice(e,1),this.updateConfig()},updateConfig:function(){var e=[];this.selected&&this.rows.map(function(t){e.push(t.email)}),this.$emit("input",e)}},mounted:function(){}}},SQZ5:function(e,t,n){var s=n("VU/8")(n("LMP0"),n("+O45"),!1,function(e){n("5BWt")},"data-v-adc417c0",null);e.exports=s.exports},"VU/8":function(e,t){e.exports=function(e,t,n,s,r,o){var i,a=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(i=e,a=e.default);var l,u="function"==typeof a?a.options:a;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=l):s&&(l=s),l){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=l,u.render=function(e,t){return l.call(t),p(e,t)}):u.beforeCreate=p?[].concat(p,l):[l]}return{esModule:i,exports:a,options:u}}},eU0j:function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]}},l9F9:function(e,t){e.exports="/vendor/processmaker/connectors/email/fonts/marker.svg?77d195e690c50759d71166456c5093c2"},rjj0:function(e,t,n){var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=n("tTVk"),o={},i=s&&(document.head||document.getElementsByTagName("head")[0]),a=null,c=0,l=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e){for(var t=0;t<e.length;t++){var n=e[t],s=o[n.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(g(n.parts[r]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{var i=[];for(r=0;r<n.parts.length;r++)i.push(g(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:i}}}}function v(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function g(e){var t,n,s=document.querySelector("style["+p+'~="'+e.id+'"]');if(s){if(l)return u;s.parentNode.removeChild(s)}if(f){var r=c++;s=a||(a=v()),t=y.bind(null,s,r,!1),n=y.bind(null,s,r,!0)}else s=v(),t=function(e,t){var n=t.css,s=t.media,r=t.sourceMap;s&&e.setAttribute("media",s);d.ssrId&&e.setAttribute(p,t.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,s),n=function(){s.parentNode.removeChild(s)};return t(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap)return;t(e=s)}else n()}}e.exports=function(e,t,n,s){l=n,d=s||{};var i=r(e,t);return m(i),function(t){for(var n=[],s=0;s<i.length;s++){var a=i[s];(c=o[a.id]).refs--,n.push(c)}t?m(i=r(e,t)):i=[];for(s=0;s<n.length;s++){var c;if(0===(c=n[s]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}};var h,b=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function y(e,t,n,s){var r=n?"":s.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}},ruc3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("SQZ5"),r=n.n(s);t.default={components:{AddInput:r.a},props:["value"],data:function(){return{showConfiguration:!1,assignedUsers:[],assignedGroups:[],usersGroupsSelected:[],config:{subject:"",type:"screen",textBody:"",screenRef:"",email:"",targetName:"",addEmails:[]}}},watch:{config:{deep:!0,handler:function(){this.updateConfig()}},usersGroupsSelected:{deep:!0,handler:function(){this.usersGroupsSelected&&this.usersGroupsSelected.users&&(this.assignedUsers=this.usersGroupsSelected.users),this.usersGroupsSelected&&this.usersGroupsSelected.groups&&(this.assignedGroups=this.usersGroupsSelected.groups),this.updateConfig()}},value:function(){this.loadConfig()}},computed:{},methods:{loadConfig:function(){var e=this,t=this.$parent.$parent.highlightedNode.definition,n=JSON.parse(_.get(t,"config")),s=_.get(t,"assignedUsers"),r=_.get(t,"assignedGroups");Vue.set(this.usersGroupsSelected,"users",s?s.split(","):[]),Vue.set(this.usersGroupsSelected,"groups",r?r.split(","):[]),Object.keys(n).forEach(function(t){Vue.set(e.config,t,n[t])})},updateConfig:function(){var e=this.$parent.$parent.highlightedNode.definition;Vue.set(e,"config",JSON.stringify(this.config)),Vue.set(e,"assignedUsers",this.assignedUsers.join()),Vue.set(e,"assignedGroups",this.assignedGroups.join())}},mounted:function(){this.loadConfig()}}},tTVk:function(e,t){e.exports=function(e,t){for(var n=[],s={},r=0;r<t.length;r++){var o=t[r],i=o[0],a={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};s[i]?s[i].parts.push(a):n.push(s[i]={id:i,parts:[a]})}return n}}});